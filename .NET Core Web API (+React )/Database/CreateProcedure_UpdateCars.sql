USE [TravelDB]
GO

SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[UpdateCars] 
	@id INT,
	@Name VARCHAR(MAX),
	@Registration VARCHAR(MAX)
AS
BEGIN

	SET NOCOUNT ON;

BEGIN TRANSACTION
BEGIN TRY

	UPDATE Cars
	SET 
		Cars.Name = @Name,
		Cars.Registration = @Registration

	WHERE
		Cars.ID = @id

	COMMIT TRANSACTION;
END TRY
BEGIN CATCH
	SELECT ERROR_MESSAGE() AS e;
	ROLLBACK TRANSACTION
END CATCH
END
USE [TravelDB]
GO

SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[CreateCars] 

	@Name VARCHAR(MAX),
	@Registration VARCHAR(MAX)

AS
BEGIN

	SET NOCOUNT ON;



BEGIN TRANSACTION
BEGIN TRY

	INSERT INTO Cars([Name], [Registration]) VALUES (@Name, @Registration);

	COMMIT TRANSACTION;
END TRY
BEGIN CATCH
	SELECT ERROR_MESSAGE() AS e;
	ROLLBACK TRANSACTION
END CATCH
END
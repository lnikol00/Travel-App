USE [TravelDB]
GO

SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[UpdateEmployee] 
	@id INT,
	@Name VARCHAR(MAX),
	@LastName VARCHAR(MAX)
AS
BEGIN

	SET NOCOUNT ON;

BEGIN TRANSACTION
BEGIN TRY

	UPDATE Employee
	SET 
		Employee.Name = @Name,
		Employee.LastName = @LastName

	WHERE
		Employee.ID = @id

	COMMIT TRANSACTION;
END TRY
BEGIN CATCH
	SELECT ERROR_MESSAGE() AS e;
	ROLLBACK TRANSACTION
END CATCH
END